title: oinkerui master todo list
description: 'This is a master development todo list for human and machine interaction.

  '
prompt_guidance: "Always follow these guidelines and update project documentation:\n**** ALWAYS PULL the repository before\
  \ starting a task. ****\n**** When possible and practical use deterministic methods (python code) to accomplish tasks. ****\n\
  \nYAML FILE OPERATIONS - MANDATORY WORKFLOW:\n* NEVER manually edit YAML files with string operations or text replacement\n\
  * ALWAYS use the Python YAML tools in tools/ directory:\n  - tools/yaml_db.py - Core YAML database operations (load, save,\
  \ get, set, append, remove)\n  - tools/task_manager.py - Task operations (move tasks, add tasks, list tasks, activate tasks)\n\
  \  - tools/validate_schemas.py - Schema validation for YAML files\n* To move a task to completed: python3 tools/task_manager.py\
  \ move <task_id> --date YYYY-MM-DD --commit <hash> --summary \"...\"\n* To add a new task: python3 tools/task_manager.py\
  \ add <task_id> <name> <goal> --prompt <path> --section current|future\n* To activate a task (move from future to current):\
  \ python3 tools/task_manager.py activate <task_id>\n* To list tasks: python3 tools/task_manager.py list --status all|current|future|completed\n\
  * To validate YAML files: python3 tools/validate_schemas.py --file all|master_todo|tasks_completed\n* These tools ensure\
  \ data integrity, create backups, and prevent corruption\n\nCODE GENERATION - USE THE SPEC AS SOURCE OF TRUTH:\n* The specification\
  \ files (spec/modules/*.yaml, spec/functions/*/*.yaml) are AUTHORITATIVE\n* ALWAYS use the code generator to create scaffolding\
  \ from specs:\n  - tools/code_generator.py - Generate code from module and function specs\n  - python3 tools/code_generator.py\
  \ --module <module_id> --preview  # Preview generated code\n  - python3 tools/code_generator.py --module <module_id> --output\
  \ <dir>  # Generate to files\n  - python3 tools/code_generator.py --function <module.function> --preview  # Single function\n\
  * Generated code includes:\n  - Module headers with responsibilities\n  - Import statements from dependencies\n  - Function\
  \ signatures with JSDoc/docstrings\n  - FOL algorithm comments\n  - Spec reference comments (doc_query commands)\n  - TODO\
  \ markers for implementation\n* If the algorithm cannot be coded correctly, report the issue so we can regenerate the spec\n\
  \nPROMPT GENERATION - FOR NEW TASKS:\n* When creating new tasks, generate detailed prompts:\n  - tools/prompt_generator.py\
  \ - Generate LLM prompts from task definitions\n  - python3 tools/prompt_generator.py --task <task_id>  # Generate single\
  \ prompt\n  - python3 tools/prompt_generator.py --all-phase <N>  # Generate all prompts for phase N\n* Generated prompts\
  \ include:\n  - Context gathering commands (doc_query)\n  - Code generator commands\n  - Requirements from specs\n  - Verification\
  \ steps\n\nTASK PROCESSING:\n* When processing tasks always create a brief summary of steps and actions in log/task_<id>_summary.yaml\n\
  * When processing a task review the last task notes (log/task_<id>_notes.yaml). There may be information needed or remaining\n\
  work that needs to be completed first.\n* In the task_<id>_summary.yaml file always provide 'justification:' for each step/action.\
  \ It is important to track the\ndecisions made and reasoning behind them.\n* If there are errors, inconsistencies, or inadequate\
  \ information to accomplish all goals of a task append questions to\n./open_questions.yaml\n* If the task is complete use\
  \ tools/task_manager.py to move it from master_todo.yaml to log/tasks_completed.yaml\n* Tasks should be verified before\
  \ considered complete, when possible use a small python script (save to ./verify/task_<id>_<descriptor>.py).\nThe script\
  \ should be well commented as to what it does and why.\n\nDOCUMENTATION:\n* Always make sure system documentation is up\
  \ to date with work just done! manuals go in ./man/*.yaml\n* NOTE: All spec files need to have consistent references to\
  \ each other. This needs to be verified whenever spec files\nare changed.\n\nREPOSITORY HYGIENE:\n* You can create temporary\
  \ files to assist with task completion but they should be removed when task is complete. Use\nthe files outlined here for\
  \ project tracking.\n* It is important to keep the repository clean of unnecessary files.\n* Follow the task instructions\
  \ closely and carefully. Constrain work and scope to the task. Return with questions if\nneeded and confirm any extra work\
  \ if it is outside the scope.\n* ALWAYS COMMIT AND PUSH the repository after a task.\n"
current:
- task:
    id: 1.0.0
    name: Implement Project CRUD Operations
    goal: Implement backend functions for creating, reading, updating, and deleting projects.
    prompt: ./prompts/dev/prompt_1_0_0.md
    details:
      focus:
      - createProject function
      - getProject function
      - listProjects function
      - deleteProject function
      - Project data persistence
      - Git repository initialization per project
      functions:
      - backend_node/create_project.yaml
      - git_integration/init_repository.yaml
      verification:
      - Unit tests for each CRUD operation
      - Integration test for project lifecycle
      - Verify Git repo created for each project
- task:
    id: 1.1.0
    name: Implement Chat CRUD Operations
    goal: Implement backend functions for creating, reading, and managing chats within projects.
    prompt: ./prompts/dev/prompt_1_1_0.md
    details:
      focus:
      - createChat function
      - getChat function
      - listChats function
      - Chat data persistence
      - Chat-project relationship
      functions:
      - backend_node/create_chat.yaml
      verification:
      - Unit tests for chat operations
      - Verify chat belongs to project
      - Test chat listing and retrieval
- task:
    id: 1.2.0
    name: Implement Message Operations
    goal: Implement backend functions for creating, storing, and retrieving messages.
    prompt: ./prompts/dev/prompt_1_2_0.md
    details:
      focus:
      - sendMessage function
      - saveMessage function
      - getMessage function
      - listMessages function
      - Message persistence (JSONL)
      - Message-chat relationship
      functions:
      - backend_node/send_message.yaml
      - backend_node/save_message.yaml
      verification:
      - Unit tests for message operations
      - Verify JSONL format
      - Test message ordering
- task:
    id: 1.3.0
    name: Implement OpenRouter LLM Integration
    goal: Implement LLM request handling with OpenRouter API, including context construction and response processing.
    prompt: ./prompts/dev/prompt_1_3_0.md
    details:
      focus:
      - callLLM function
      - constructContext function
      - OpenRouter API integration
      - Model selection from config
      - Response streaming support
      - Error handling and retries
      functions:
      - backend_node/call_llm.yaml
      - backend_node/construct_context.yaml
      verification:
      - Unit tests with mocked API
      - Integration test with real API
      - Test context construction
      - Verify streaming works
- task:
    id: 1.4.0
    name: Implement Logging and LLM Request Tracking
    goal: Implement comprehensive logging system for LLM requests, chat logs, and system events.
    prompt: ./prompts/dev/prompt_1_4_0.md
    details:
      focus:
      - logLLMRequest function
      - LLMRequestLogEntry creation
      - Chat log persistence (JSONL)
      - System log configuration
      - Token usage tracking
      - Performance metrics
      functions:
      - logging_and_metrics/log_llm_request.yaml
      - logging_and_metrics/get_stats.yaml
      verification:
      - Unit tests for logging functions
      - Verify log file creation
      - Test metrics aggregation
      - Verify token counting
- task:
    id: 1.5.0
    name: Implement Data Entity Management
    goal: Implement backend functions for creating and managing data entities (files and objects).
    prompt: ./prompts/dev/prompt_1_5_0.md
    details:
      focus:
      - createDataEntity function
      - getDataEntity function
      - listDataEntities function
      - File storage and retrieval
      - JSON/YAML object storage
      - Entity-project relationship
      verification:
      - Unit tests for entity operations
      - Test file upload/download
      - Test object serialization
      - Verify path constraints
- task:
    id: 1.6.0
    name: Implement Git Operations
    goal: Implement Git integration for project versioning, including auto-commit functionality.
    prompt: ./prompts/dev/prompt_1_6_0.md
    details:
      focus:
      - autoCommit function
      - getDiff function
      - Dirty file detection
      - Commit message generation
      - Git status tracking
      functions:
      - git_integration/auto_commit.yaml
      - git_integration/get_diff.yaml
      verification:
      - Unit tests for Git operations
      - Test auto-commit batching
      - Verify commit messages
      - Test diff generation
future:
- add context re-ordering feature; prompt/responses in chat history can be re-ordered in the left side list, drag and drop
  and/or buttons move up/down.  Need a reset button as well.
- task:
    id: 1.7.0
    name: Implement Core UI Components
    goal: Implement Svelte components for project list, chat interface, and message display.
    prompt: ./prompts/dev/prompt_1_7_0.md
    details:
      focus:
      - ProjectList component
      - ChatList component
      - MessageList component
      - MessageInput component
      - Component styling with Tailwind
      - Dark theme implementation
      functions:
      - frontend_svelte/render_message.yaml
      - frontend_svelte/handle_send_message.yaml
      verification:
      - Component unit tests
      - Visual regression tests
      - Test dark theme
      - Test responsive layout
- task:
    id: 1.8.0
    name: Implement Frontend State Management
    goal: Implement Svelte stores for managing application state (projects, chats, messages, UI).
    prompt: ./prompts/dev/prompt_1_8_0.md
    details:
      focus:
      - projectStore implementation
      - chatStore implementation
      - messageStore implementation
      - uiStore implementation
      - State synchronization with backend
      - Local state persistence
      functions:
      - frontend_svelte/update_context_display.yaml
      verification:
      - Store unit tests
      - Test state updates
      - Test store subscriptions
      - Verify persistence
- task:
    id: 1.9.0
    name: Phase 1 Integration and End-to-End Testing
    goal: Integrate all Phase 1 components and implement comprehensive end-to-end tests.
    prompt: ./prompts/dev/prompt_1_9_0.md
    details:
      focus:
      - Full application integration
      - End-to-end test scenarios
      - Performance testing
      - Error handling verification
      - Documentation updates
      - Deployment preparation
      verification:
      - E2E test suite
      - Load testing
      - Security audit
      - Documentation review
      - User acceptance testing
open_questions: []
